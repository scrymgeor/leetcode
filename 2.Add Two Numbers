/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     struct ListNode *next;
 * };
 */
struct ListNode* addTwoNumbers(struct ListNode* l1, struct ListNode* l2) {
    struct ListNode* result=NULL;
    
    int carry=0;
    while(l1!=NULL||l2!=NULL||carry!=0){
        long long sum=carry;
        if(l1!=NULL){
            sum+=l1->val;
            l1=l1->next;
        }
        if(l2!=NULL){
            sum+=l2->val;
            l2=l2->next;
        }
        carry=sum/10;
        struct ListNode* temp=(struct ListNode*)malloc(sizeof(struct ListNode));
        temp->next=NULL;
        if(sum==0 && carry==0 && l2==NULL && l1==NULL){
            temp->val=0;
            result=temp;
            return result;
        }
        
        temp->val=sum%10;
        if(result==NULL){
            result=temp;
        }
        else{
            struct ListNode* link=result;
            while(link->next!=NULL){
                link=link->next;
            }link->next=temp;
        }
        
    }

    return result;
}
